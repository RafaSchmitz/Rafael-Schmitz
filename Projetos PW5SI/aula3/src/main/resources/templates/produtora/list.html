<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Index</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossorigin="anonymous">
        <link rel="stylesheet" href="https://unpkg.com/shards-ui@latest/dist/css/shards.min.css">
    </head>
    <body>
        <div class="container my-5">
        	<h2>Lista de Produtoras</h2>
        	<a class="btn btn-primary" th:href="@{/}">
        		<i class="fas fa-home"></i>
        	</a>
        	<a class="btn btn-primary" th:href="@{/produtora/new}">
        		<i class="fas fa-plus"></i> Novo
        	</a>
        	<div class="col-md-6">
    				<div th:if="${!#strings.isEmpty(sucesso)}" 
    					class="alert alert-success">
    					<i class="fa fa-check-circle"></i>
    					<span th:text="${sucesso}">Mensagem de sucesso!</span>	
   					</div>
   					
   					<div th:if="${!#strings.isEmpty(erro)}" 
    					class="alert alert-danger">
    					<i class="fa fa-trash"></i>
    					<span th:text="${erro}">Mensagem de erro!</span>	
   					</div>
    			</div>
        	<div th:switch="${produtoras}">
        		<div class="row">
        			<h2 th:case="null">Nenhum registro encontrado!</h2>
        			<div th:case="*">
        				<table class="table table-striped table-responsive-md">
        					<thead>
        						<tr>
        							<th>CÃ³digo</th>
        							<th>Nome</th>
        							<th>Editar</th>
        							<th>Remover</th>
        						</tr>
        					</thead>
        					<tbody>
        						<tr th:each="produtora : ${produtoras}">
        							<td th:text="${produtora.id}"></td>
        							<td th:text="${produtora.nome}"></td>
<!-- EDITAR -->
<td>
<a th:href="@{/produtora/{id}(id=${produtora.id})}" class="btn btn-primary">
	<i class="fas fa-edit ml-2"></i>
</a>
</td>
<!-- REMOVER -->
<td>
<form method="post" 
	th:action="@{/produtora/{id}?_method=DELETE(id=${produtora.id})}">
	<input type="hidden" name="_method" value="DELETE">
	<button type="submit" class="btn btn-danger">
		<i class="fas fa-trash ml-2"></i>
	</button>
</form>
</td>
        						</tr>
        					</tbody>
        				</table>
        			</div>
        		</div>
        	</div>
        </div>
    </body>
</html>